{% extends "base.html" %}

{% block title %}Foods - Nutrition Tracker{% endblock %}

{% block content %}
<h2>Add New Food</h2>
<form method="POST" class="form-grid">
    <input name="name" placeholder="Food Name" required>
    <input name="calories" type="number" step="0.1" placeholder="Calories">
    <input name="protein" type="number" step="0.1" placeholder="Protein (g)">
    <input name="carbs" type="number" step="0.1" placeholder="Carbs (g)">
    <input name="fat" type="number" step="0.1" placeholder="Fat (g)">
    <input name="fiber" type="number" step="0.1" placeholder="Fiber (g)">
    <button type="submit">Add Food</button>
</form>

<h2>Food List</h2>
<table>
    <thead>
        <tr>
            <th>Name</th><th>Calories</th><th>Protein</th><th>Carbs</th><th>Fat</th><th>Fiber</th>
        </tr>
    </thead>
    <tbody>
        {% for food in foods %}
        <tr>
            <td>{{ food.name }}</td>
            <td>{{ food.calories }}</td>
            <td>{{ food.protein }}</td>
            <td>{{ food.carbs }}</td>
            <td>{{ food.fat }}</td>
            <td>{{ food.fiber }}</td>
            <td>
                <div class="action-buttons">
                    <!-- Edit -->
                    <span class="tooltip" data-tooltip="Edit">
                        <a class="btn edit" href="/foods/edit/{{ food.id }}">
                        <i class="fas fa-pen"></i>
                        </a>
                    </span>
                    
                    <!-- Delete -->
                    <span class="tooltip" data-tooltip="Delete">
                        <form method="POST" action="/foods/delete/{{ food.id }}" onsubmit="return confirm('Are you sure?');">
                        <button type="submit" class="btn delete">
                            <i class="fas fa-trash"></i>
                        </button>
                        </form>
                    </span>
                </div>
            </td>              
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
